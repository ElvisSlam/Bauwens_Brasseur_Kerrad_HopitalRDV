{% extends 'base.html.twig' %}

{% block title %}Hello MedecinController!{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

<div class="example-wrapper">
    <h1 style="text-decoration:underline">Liste des rendez-vous :</h1>
    <br>
    <p></p>
    <table class="table">
        <tr>
            <th scope="col">Id</th>
            <th scope="col">Nom du patient</th>
            <th scope="col">Date</th>
            <th scope="col">Heure</th>
        </tr>
        {% for medecin in lesMedecin %}
			{% for rdv in medecin.getRDVs %}
				{% if app.user.getId == rdv.getMedecin.getId %}
                    {% if rdv.getStatut.getId ==  2%}
            	        <tr>
                	        <td scope="row-4">{{ rdv.getId }}</td>
					        <td scope="row-4">{{ rdv.getPatient.getNom}}</td>
					        <td scope="row-4">{{ rdv.getDate|date("y-m-d") }}</td>
					        <td scope="row-4">{{ rdv.getHeure|date("H:i:s") }}</td>
            
            	        </tr>
				    {% endif %}
                {% endif %}
			{% endfor %}
        {% endfor %}
    </table>
</div>
{% endblock %}